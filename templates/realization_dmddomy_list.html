{% extends 'base.html' %}

{% block title %}DMD Panel Administratora - Zarządzanie Blogiem{% endblock %}

{% block addButton %}
<!-- d-block d-sm-none tylko na średnim sm+ -->
<div class="d-block d-sm-none mt-2">
    <div class="d-flex align-items-center justify-content-between">

        <!-- dropdown -->
        <div class="dropdown">
            <button 
                class="nav-link dropdown-toggle link-light dark-mode" 
                type="button" id="dropdownMenuButton2" 
                style="max-height: 29px; font-size: 20px;"
                data-bs-toggle="dropdown" aria-expanded="false">
                {% if user_brands['domy'] == 0 %}
                    {% if user_brands['inwestycje'] == 1 %}
                        <script>window.location.href = "/realization-inwestycje-list";</script>
                    {% else %}
                        {% if user_brands['budownictwo'] == 1 %}
                            <script>window.location.href = "/realization-budownictwo-list";</script>
                        {% else %}
                            {% if user_brands['development'] == 1 %}
                                <script>window.location.href = "/realization-development-list";</script>
                            {% else %}
                                {% if user_brands['elitehome'] == 1 %}
                                    <script>window.location.href = "/realization-elitehome-list";</script>
                                {% else %}
                                    {% if user_brands['instalacje'] == 1 %}
                                        <script>window.location.href = "/realization-instalacje-list";</script>
                                    {% else %}
                                        <script>window.location.href = "/home";</script>
                                    {% endif %}
                                {% endif %}
                            {% endif %}
                        {% endif %}
                    {% endif %}
                {% else %}
                    <i class="bi bi-rulers" style="color: #00ff08; position: relative; top: -10px;"></i>
                {% endif %}
            </button>
            <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="dropdownMenuButton2">
                {% if user_brands['domy'] == 1 %}
                    <li><a class="team_button_domy dropdown-item active" href="/realization-domy-list" style="max-height: 29px; font-size: 12px; font-weight: 100;">Domy</a></li>
                {% endif%}
                {% if user_brands['budownictwo'] == 1 %}
                    <li><a class="dropdown-item" href="/realization-budownictwo-list" style="max-height: 29px; font-size: 12px; font-weight: 100;">Budownictwo</a></li>
                {% endif%}
                {% if user_brands['elitehome'] == 1 %}
                    <li><a class="dropdown-item" href="/realization-elitehome-list" style="max-height: 29px; font-size: 12px; font-weight: 100;">EliteHome</a></li>
                {% endif%}
                {% if user_brands['instalacje'] == 1 %}
                    <li><a class="dropdown-item" href="/realization-instalacje-list" style="max-height: 29px; font-size: 12px; font-weight: 100;">Instalacje</a></li>
                {% endif%}
                {% if user_brands['development'] == 1 %}
                    <li>
                        <a 
                            class="dropdown-item" 
                            style="max-height: 29px; font-size: 12px; font-weight: 100;"
                            href="/realization-development-list">
                            Development
                        </a>
                    </li>
                {% endif%}
                {% if user_brands['inwestycje'] == 1 %}
                    <li>
                        <a 
                            class="dropdown-item" 
                            style="max-height: 29px; font-size: 12px; font-weight: 100;"
                            href="/realization-inwestycje-list">
                            Inwestycje
                        </a>
                    </li>
                {% endif%}
            </ul>
        </div>
        <!-- dropdown END -->
        <div class="add-button-green ps-1">
            <a href="/realization-domy-category">
                <i class="bi bi-gear" style="font-size: 12pt; color: #0798cc !important;"></i>
            </a>
        </div>
        <div class="add-button-green ps-1">
            <a  data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight">
                <i class="bi bi-plus-square-fill" style="font-size: 12pt; color: #0e900e !important;"></i>
            </a>
        </div>
    </div>
</div>
<!-- d-none d-sm-block d-lg-none tylko na średnim lg+ -->
<div class="d-none d-sm-block d-lg-none mt-2">
    <div class="d-flex align-items-center justify-content-between">

        <!-- dropdown -->
        <div class="dropdown">
            <button 
            class="nav-link dropdown-toggle link-light dark-mode" 
            type="button" id="dropdownMenuButton2" 
            style="max-height: 40px; font-size: 15px; font-weight: 100;"
            data-bs-toggle="dropdown" aria-expanded="false">
                {% if user_brands['domy'] == 0 %}
                    {% if user_brands['inwestycje'] == 1 %}
                        <script>window.location.href = "/realization-inwestycje-list";</script>
                    {% else %}
                        {% if user_brands['budownictwo'] == 1 %}
                            <script>window.location.href = "/realization-budownictwo-list";</script>
                        {% else %}
                            {% if user_brands['development'] == 1 %}
                                <script>window.location.href = "/realization-development-list";</script>
                            {% else %}
                                {% if user_brands['elitehome'] == 1 %}
                                    <script>window.location.href = "/realization-elitehome-liste";</script>
                                {% else %}
                                    {% if user_brands['instalacje'] == 1 %}
                                        <script>window.location.href = "/realization-instalacje-list";</script>
                                    {% else %}
                                        <script>window.location.href = "/home";</script>
                                    {% endif %}
                                {% endif %}
                            {% endif %}
                        {% endif %}
                    {% endif %}
                {% else %}
                    Domy
                {% endif %}
            </button>
            <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="dropdownMenuButton2">
                {% if user_brands['domy'] == 1 %}
                    <li><a class="team_button_domy dropdown-item active" href="/realization-domy-list" style="max-height: 40px; font-size: 15px; font-weight: 100;">Domy</a></li>
                {% endif%}
                {% if user_brands['budownictwo'] == 1 %}
                    <li><a class="dropdown-item" href="/realization-budownictwo-list" style="max-height: 40px; font-size: 15px; font-weight: 100;">Budownictwo</a></li>
                {% endif%}
                {% if user_brands['elitehome'] == 1 %}
                    <li><a class="dropdown-item" href="/realization-elitehome-list" style="max-height: 40px; font-size: 15px; font-weight: 100;">EliteHome</a></li>
                {% endif%}
                {% if user_brands['instalacje'] == 1 %}
                    <li><a class="dropdown-item" href="/realization-instalacje-list" style="max-height: 40px; font-size: 15px; font-weight: 100;">Instalacje</a></li>
                {% endif%}
                {% if user_brands['development'] == 1 %}
                    <li>
                        <a 
                            class="dropdown-item" 
                            style="max-height: 40px; font-size: 15px; font-weight: 100;"
                            href="/realization-development-list">
                            Development
                        </a>
                    </li>
                {% endif%}
                {% if user_brands['inwestycje'] == 1 %}
                    <li>
                        <a 
                            class="dropdown-item" 
                            style="max-height: 40px; font-size: 15px; font-weight: 100;"
                            href="/realization-inwestycje-list">
                            Inwestycje
                        </a>
                    </li>
                {% endif%}
            </ul>
        </div>
        <!-- dropdown END -->
        <div class="add-button-green ps-2">
            <a href="/realization-domy-category">
                <i class="bi bi-gear" style="font-size: 15pt; color: #0798cc !important;"></i>
            </a>
        </div>
        <div class="add-button-green ps-2">
            <a  data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight">
                <i class="bi bi-plus-square-fill" style="font-size: 15pt; color: #0e900e !important;"></i>
            </a>
        </div>
    </div>
</div>
<!-- d-none d-xl-block tylko na pełnym xl+ -->
<div class="d-none d-lg-block mt-2">
    <div class="d-flex align-items-center justify-content-between">
        <!-- dropdown -->
        <div class="dropdown">
            <button 
                class="nav-link dropdown-toggle link-light dark-mode" 
                type="button" id="dropdownMenuButton2" 
                data-bs-toggle="dropdown" 
                style="max-height: 45px; font-size: 20px; font-weight: 100;"
                aria-expanded="false">
                {% if user_brands['domy'] == 0 %}
                    {% if user_brands['inwestycje'] == 1 %}
                        <script>window.location.href = "/realization-inwestycje-list";</script>
                    {% else %}
                        {% if user_brands['budownictwo'] == 1 %}
                            <script>window.location.href = "/realization-budownictwo-list";</script>
                        {% else %}
                            {% if user_brands['development'] == 1 %}
                                <script>window.location.href = "/realization-development-list";</script>
                            {% else %}
                                {% if user_brands['elitehome'] == 1 %}
                                    <script>window.location.href = "/realization-elitehome-list";</script>
                                {% else %}
                                    {% if user_brands['instalacje'] == 1 %}
                                        <script>window.location.href = "/realization-instalacje-list";</script>
                                    {% else %}
                                        <script>window.location.href = "/home";</script>
                                    {% endif %}
                                {% endif %}
                            {% endif %}
                        {% endif %}
                    {% endif %}
                {% else %}
                    Domy
                {% endif %}
            </button>
            <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="dropdownMenuButton2">
                {% if user_brands['domy'] == 1 %}
                    <li><a class="team_button_domy dropdown-item active" href="/realization-domy-list" style="max-height: 45px; font-size: 20px; font-weight: 100;">Domy</a></li>
                {% endif%}
                {% if user_brands['budownictwo'] == 1 %}
                    <li><a class="dropdown-item" href="/realization-budownictwo-list" style="max-height: 45px; font-size: 20px; font-weight: 100;">Budownictwo</a></li>
                {% endif%}
                {% if user_brands['elitehome'] == 1 %}
                    <li><a class="dropdown-item" href="/realization-elitehome-list" style="max-height: 45px; font-size: 20px; font-weight: 100;">EliteHome</a></li>
                {% endif%}
                {% if user_brands['instalacje'] == 1 %}
                    <li><a class="dropdown-item" href="/realization-instalacje-list" style="max-height: 45px; font-size: 20px; font-weight: 100;">Instalacje</a></li>
                {% endif%}
                {% if user_brands['development'] == 1 %}
                    <li>
                        <a 
                            class="dropdown-item" 
                            style="max-height: 45px; font-size: 20px; font-weight: 100;"
                            href="/realization-development-list">
                            Development
                        </a>
                    </li>
                {% endif%}
                {% if user_brands['inwestycje'] == 1 %}
                    <li>
                        <a 
                            class="dropdown-item" 
                            style="max-height: 45px; font-size: 20px; font-weight: 100;"
                            href="/realization-inwestycje-list">
                            Inwestycje
                        </a>
                    </li>
                {% endif%}
            </ul>
        </div>
        <!-- dropdown END -->
        <div class="add-button-green ps-3">
            <a href="/realization-domy-category">
                <i class="bi bi-gear" style="font-size: 20pt; color: #0798cc !important;"></i>
            </a>
        </div>
        <div class="add-button-green ps-3">
            <a  data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight">
                <i class="bi bi-plus-square-fill" style="font-size: 20pt; color: #0e900e !important;"></i>
            </a>
        </div>
    </div>
</div>
{% endblock %}


{% block navbarTitle %}
<!-- d-block d-sm-none tylko na średnim sm+ -->
<div class="d-block d-sm-none mt-2">
    <div style="display: flex; justify-content: space-between;">
        <a data-bs-toggle="offcanvas" data-bs-target="#offcanvasTop_sm" aria-controls="offcanvasTop_sm">
            <img 
                src="../static/img/logotypy_dmd_domy.png" 
                alt="DMD" 
                style="margin-left: 2px !important; padding-right: 10px; max-height: 22px;"/>
        </a>
    </div>
</div>
<!-- d-none d-sm-block d-lg-none tylko na średnim lg+ -->
<div class="d-none d-sm-block d-lg-none mt-2">
    <div style="display: flex; justify-content: space-between;">
        <a data-bs-toggle="offcanvas" data-bs-target="#offcanvasTop_lg" aria-controls="offcanvasTop_lg">
            <img 
                src="../static/img/logotypy_dmd_domy.png" 
                alt="DMD" 
                style="margin-left: 5px !important; padding-right: 10px; max-height: 35px;"
                />
        </a>
        <a 
            class="nav-link active dark-mode" 
            aria-current="page" 
            style="max-height: 40px; font-size: 15px; font-weight: 100;"
            href="#">
            Realizacje
        </a>
    </div>
</div>
<!-- d-none d-xl-block tylko na pełnym xl+ -->
<div class="d-none d-lg-block mt-2">
    <div style="display: flex; justify-content: space-between;">
        <a data-bs-toggle="offcanvas" data-bs-target="#offcanvasTop_xl" aria-controls="offcanvasTop_xl">
            <img 
                src="../static/img/logotypy_dmd_domy.png" 
                alt="DMD" 
                style="margin-left: 10px !important; padding-right: 10px; max-height: 40px;"/>
        </a>
        <a 
            class="nav-link active dark-mode" 
            aria-current="page" 
            style="max-height: 45px; font-size: 20px; font-weight: 100;"
            href="#">
            Zarządzanie Realizacjami
        </a>
    </div>
</div>
{% endblock %}

{% block tableHeader %}
                        <div>
                            <div class="row klej formatuj-header">
                                <div class="d-none d-lg-block" style="max-width: 30px;">
                                    #
                                </div>
                                <div  class="col-xl-10 col-lg-10 col-sm-11">
                                    Tytuł
                                </div>
                                <div  class="d-none d-xl-block" style="max-width: 250px;">
                                    Kategoria
                                </div>
                                <div class="d-none d-xl-block" style="max-width: 200px;">
                                    Realizacja
                                </div>
                                <div class="d-none d-lg-block" style="max-width: 150px;">
                                    Data
                                </div>
                                <div class="col-xl-2 col-lg-4 col-sm-1 d-flex justify-content-end" style="max-width: 80px;">
                                    <i class="bi bi-person-gear"></i> Akcja 
                                </div>
                            </div>
                        </div>
{% endblock %}
{% block tableContent%}
                        <!-- OFFCANVANSE RIGHT ADD NEW POST -->
                        <div class="offcanvas offcanvas-end bg-dark oc-width" tabindex="-1" data-bs-scroll="true" data-bs-backdrop="false" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
                            <div class="offcanvas-header">
                                <h4 class="offcanvas-title" id="offcanvasRightLabel">Dodawanie nowego posta</h4>
                                <button type="button" class="btn-close btn-close-white"  data-bs-dismiss="offcanvas" aria-label="Close"></button>
                            </div>
                            <div class="offcanvas-body">
                                <form method="POST" id="editPost_9999999" action="{{ url_for('save_post') }}" enctype="multipart/form-data" >
                                    <!-- Tytuł  -->
                                    <div class="mb-3">
                                    <label for="title_9999999" class="form-label">Tytuł</label>
                                    <input 
                                            type="text" 
                                            value=""
                                            class="form-control bg-dark formatuj-maly-font" 
                                            style="color:#c2c2c2; border:#6a6a6a solid 1px;"
                                            id="title_9999999" 
                                            name="title_9999999" 
                                            required>
                                    </div>

                                    <!-- Wstęp -->
                                    <div class="mb-3">
                                        <label for="introduction_9999999" class="form-label">Opis</label>
                                        <textarea 
                                                class="form-control bg-dark formatuj-maly-font" 
                                                style="color:#c2c2c2; border:#6a6a6a solid 1px;"
                                                id="introduction_9999999" 
                                                name="introduction_9999999" 
                                                rows="4" required></textarea>
                                    </div>

                                    <!-- category -->

                                    <div class="mb-3">
                                        <label for="introduction_9999999" class="form-label">Kategoria realizacji</label>
                                        <select 
                                            class="form-select dark-mode mb-2 mt-2" 
                                            style="max-height: 30px; font-size: 12px;" 
                                            id="to_splitted_category_9999999" 
                                            name="category"
                                            required>

                                            <option value="">---</option>
                                            {% for cateName in categories %}
                                                <option value="{{ cateName }}">{{ cateName }}</option>
                                            {% endfor %}
                                        </select>
                                    </div>

                                    <label class="form-label">Lata realizacji</label>
                                    <div class="row row-cols-3 mb-3">
                                        <div class="col-sm-4">
                                            <input 
                                                type="number" 
                                                value=""
                                                class="form-control bg-dark formatuj-maly-font" 
                                                style="color:#c2c2c2; border:#6a6a6a solid 1px;"
                                                id="rstart_9999999" 
                                                name="rstart_9999999" 
                                                placeholder="Rok rozpoczęcia" 
                                                aria-label="rokstart" />
                                        
                                        </div>
                                        
                                        <div class="col-sm-4">
                                            <input 
                                                type="number" 
                                                value=""
                                                class="form-control bg-dark formatuj-maly-font" 
                                                style="color:#c2c2c2; border:#6a6a6a solid 1px;"
                                                id="rfinish_9999999" 
                                                name="rfinish_9999999" 
                                                placeholder="Rok zakończenia" 
                                                aria-label="rokfinish" />
                                        </div>
                                    </div>

                                    <!-- Main Foto -->
                                    <div class="mb-3">
                                        <label for="mainFoto_9999999" class="form-label">Main Foto (1920x750)</label>
                                        <div>
                                            <img src="" style="max-height: 100px; max-width: 400px; border-radius: 10px; margin-bottom: 10px;" id="mainFotoPreview_9999999" />
                                        </div>
                                        <div>
                                            <input type="file" class="form-control bg-dark formatuj-maly-font" style="color:#c2c2c2;" id="mainFoto_9999999" name="mainFoto_9999999" accept="image/*" onchange="previewImage(this, 'mainFotoPreview_9999999', 1920, 750, 3)">
                                        </div>
                                    </div>

                                    <!-- Ukryte pola formularza -->
                                    <input type="hidden" name="tagsFieldData_9999999" id="tagsFieldData_9999999" />
                                    <input type="hidden" name="dynamicFieldData_9999999" id="dynamicFieldData_9999999" />
                                    <input type="hidden" name="UserName_9999999" id="UserName_9999999" value="{{username}}"/>
                                    <!-- Przycisk Zapisz artykuł -->
                                    <button type="button" class="btn btn-success btn-sm" style="max-height: 30px; font-size: 12px;" onclick="prepareAndSubmitForm('9999999', false)">Dodaj realizację</button>
                                </form>
                            </div>
                        </div>
                        {% for post_data in posts %}
                            {% set post_id  = post_data.id %}
                        <!-- linia contentu tabeli ciemna-->
                        <div>
                            <div class="row klej {% if loop.index is even %}formatuj-light-line{% else %}formatuj-dark-line{% endif %}" >
                                <div class="d-none d-lg-block formatuj-maly-font" style="max-width: 30px;" data-bs-toggle="collapse" href="#collapse_id_{{post_id}}" role="button" aria-expanded="false" aria-controls="collapse_id_{{post_id}}">
                                    {{post_id}}
                                </div>
                                <div class="col-xl-10 col-lg-10 col-sm-11 formatuj-maly-font" data-bs-toggle="collapse" href="#collapse_id_{{post_id}}" role="button" aria-expanded="false" aria-controls="collapse_id_{{post_id}}">
                                    <a data-bs-toggle="collapse" href="#collapse_id_{{post_id}}" role="button" aria-expanded="false" aria-controls="collapse_id_{{post_id}}">
                                        {{post_data.tytul_ogloszenia}}
                                    </a>
                                </div>
                                <div class="d-none d-xl-block formatuj-maly-font" style="max-width: 250px;" data-bs-toggle="collapse" href="#collapse_id_{{post_id}}" role="button" aria-expanded="false" aria-controls="collapse_id_{{post_id}}">
                                    <a data-bs-toggle="collapse" href="#collapse_id_{{post_id}}" role="button" aria-expanded="false" aria-controls="collapse_id_{{post_id}}">
                                        {{post_data.kategoria}}
                                    </a>
                                </div>
                                <div class="d-none d-xl-block formatuj-maly-font" style="max-width: 200px;" data-bs-toggle="collapse" href="#collapse_id_{{post_id}}" role="button" aria-expanded="false" aria-controls="collapse_id_{{post_id}}">
                                    <a data-bs-toggle="collapse" href="#collapse_id_{{post_id}}" role="button" aria-expanded="false" aria-controls="collapse_id_{{post_id}}">
                                        {{post_data.r_start}} - {{post_data.r_finish}}
                                    </a>
                                </div>
                                <div class="d-none d-lg-block formatuj-maly-font" style="max-width: 150px;" data-bs-toggle="collapse" href="#collapse_id_{{post_id}}" role="button" aria-expanded="false" aria-controls="collapse_id_{{post_id}}">
                                    <a data-bs-toggle="collapse" href="#collapse_id_{{post_id}}" role="button" aria-expanded="false" aria-controls="collapse_id_{{post_id}}">
                                        {{post_data.data_aktualizacji}}
                                    </a>
                                </div>
                                <div class="col-xl-2 col-lg-4 col-sm-1 d-flex justify-content-end" style="max-width: 80px;">
                                    
                                    <form method="POST" id="removePost_{{post_id}}" action="{{ url_for('remove_post') }}" enctype="multipart/form-data" onsubmit="return confirm('Czy na pewno chcesz usunąć post?');">

                                            <a data-bs-toggle="collapse" href="#collapse_id_{{post_id}}" role="button" aria-expanded="false" aria-controls="collapse_id_{{post_id}}"><i class="bi bi-chevron-double-down" style="color: rgb(89, 176, 90) !important;"></i></a>

                                            <a data-bs-toggle="offcanvas" data-bs-target="#offcanvasScrolling_{{post_id}}" aria-controls="offcanvasScrolling_{{post_id}}"><i class="bi bi-pencil" style="color: #7eb5cc !important;"></i></a>
                                        <input type="hidden" name="UserName" id="UserName_{{post_id}}" value="{{username}}"/>
                                        <input type="hidden" name="PostID" id="PostID_{{post_id}}" value="{{post_id}}"/>
                                        <button type="submit" class="custom-icon-button"><i class="bi bi-trash-fill" style="color: rgb(149, 47, 47) !important;"></i></button>
                                        <!-- <a href="#"><i class="bi bi-trash-fill" style="color: rgb(149, 47, 47) !important;"></i></a> -->
                                    </form>
                                </div>
                            </div>
                        </div>
                        <!-- offcanvanse left -->
                        <div class="offcanvas offcanvas-start bg-dark oc-width" data-bs-scroll="true" data-bs-backdrop="false" tabindex="-1" id="offcanvasScrolling_{{post_id}}" aria-labelledby="offcanvasScrollingLabel">
                            <div class="offcanvas-header">
                              <h4 class="offcanvas-title" id="offcanvasScrollingLabel">Edycja Post id: {{post_id}}</h4>
                              <button type="button" class="btn-close btn-close-white"  data-bs-dismiss="offcanvas" aria-label="Close"></button>
                            </div>
                            <div class="offcanvas-body formatuj-maly-font">
                                <div class="tylko-klej">
                                    <div style="color:#6a6a6a;">
                                        <form method="POST" id="editPost_{{post_id}}" action="{{ url_for('save_post') }}" enctype="multipart/form-data">
                                            <!-- Tytuł artykułu -->
                                            <div class="mb-3">
                                            <label for="title_{{post_id}}" class="form-label">Tytuł artykułu</label>
                                            <input 
                                                    type="text" 
                                                    value="{{post_data['title']}}"
                                                    class="form-control bg-dark formatuj-maly-font" 
                                                    style="color:#c2c2c2; border:#6a6a6a solid 1px;"
                                                    id="title_{{post_id}}" 
                                                    name="title_{{post_id}}" 
                                                    required>
                                            </div>
    
                                            <!-- Wstęp -->
                                            <div class="mb-3">
                                            <label for="introduction_{{post_id}}" class="form-label">Wstęp</label>
                                            <textarea 
                                                    class="form-control bg-dark formatuj-maly-font" 
                                                    style="color:#c2c2c2; border:#6a6a6a solid 1px;"
                                                    id="introduction_{{post_id}}" 
                                                    name="introduction_{{post_id}}" 
                                                    rows="4" required>{{post_data['introduction']}}</textarea>
                                            </div>
    
                                            <!-- Highlight -->
                                            <div class="mb-3">
                                            <label for="highlight_{{post_id}}" class="form-label">Highlight</label>
                                            <textarea 
                                                    class="form-control bg-dark formatuj-maly-font" 
                                                    style="color:#c2c2c2; border:#6a6a6a solid 1px;"
                                                    id="Highlight_{{post_id}}" 
                                                    name="Highlight_{{post_id}}" 
                                                    rows="4" required>{{post_data['highlight']}}</textarea>
                                            </div>
    
                                            <!-- Main Foto -->
                                            <div class="mb-3">
                                                <label for="mainFoto_{{post_id}}" class="form-label">Main Foto (1920x750)</label>
                                                <div>
                                                    <img src="{{post_data['mainFoto']}}" style="max-height: 100px; max-width: 400px; border-radius: 10px; margin-bottom: 10px;" id="mainFotoPreview_{{post_id}}" />
                                                </div>
                                                <div>
                                                    <input type="file" class="form-control bg-dark formatuj-maly-font" style="color:#c2c2c2;" id="mainFoto_{{post_id}}" name="mainFoto_{{post_id}}" accept="image/*" onchange="previewImage(this, 'mainFotoPreview_{{post_id}}', 1920, 750, 3)">
                                                </div>
                                            </div>
    
                                            <!-- Content Foto -->
                                            <div class="mb-3">
                                                <label for="contentFoto_{{post_id}}" class="form-label">Content Foto (750x430)</label>
                                                <div>
                                                    <img src="{{post_data['contentFoto']}}" style="max-height: 100px; max-width: 400px; border-radius: 10px; margin-bottom: 10px;" id="contentFotoPreview_{{post_id}}" />
                                                </div>  
                                                <div>
                                                    <input type="file" class="form-control bg-dark formatuj-maly-font" style="color:#c2c2c2;" id="contentFoto_{{post_id}}" name="contentFoto_{{post_id}}" accept="image/*" onchange="previewImage(this, 'contentFotoPreview_{{post_id}}', 750, 430, 3)">
                                                </div>
                                            </div>
    
                                            <!-- Additional List -->
                                            <div class="mb-3">
                                                <label for="additionalList{{post_id}}" class="form-label">Additional List</label>
                                                <div id="list-container{{post_id}}" class="no-border">
                                                    <!-- Tutaj będą dynamicznie dodawane elementy listy -->
                                                </div>
                                                <div class="formatuj-right formatuj-margin">
                                                    <button type="button" class="btn btn-warning btn-sm" onclick="addListItem('{{post_id}}')">Dodaj pole</button>
                                                </div>
                                            </div>
                                            <script>
                                                var additionalList = "{{post_data['additionalList']}}";
                                                var idAddionalList = '{{post_id}}';
                                                console.log(idAddionalList);
                                                addListFields(additionalList, idAddionalList, "#splx#");
                                            </script>
    
                                            <!-- Tags -->
                                            <div class="mb-3">
                                                <label for="tags{{post_id}}" class="form-label">Tags</label>
                                                <div id="list-tag-container{{post_id}}" class="no-border">
                                                    <!-- Tutaj będą dynamicznie dodawane elementy listy -->
                                                </div>
                                                <div class="formatuj-right formatuj-margin">
                                                    <button 
                                                            type="button" 
                                                            class="btn btn-warning btn-sm" 
                                                            onclick="addListItem(
                                                                                '{{post_id}}', 
                                                                                'dynamicTagsField',
                                                                                'input',
                                                                                'form-control bg-dark formatuj-maly-font',
                                                                                'additionalTagList',
                                                                                '4',
                                                                                '#c2c2c2',
                                                                                '#6a6a6a solid 1px',
                                                                                true,
                                                                                'no-border formatuj-margin form-control bg-dark formatuj-right',
                                                                                'list-tag-container',
                                                                                'btn btn-outline-danger formatuj-maly-font formatuj-margin',
                                                                                'Usuń tag'
                                                                                )">
                                                        Dodaj Tag
                                                    </button>
                                                </div>
                                                <!-- <input type="text" value="{{post_data['tags']}}" class="form-control bg-dark formatuj-maly-font" style="color:#c2c2c2; border:#6a6a6a solid 1px;" id="tags" name="tags" required> -->
                                            </div>
                                            <script>
                                                var additionalTagList = "{{post_data['tags']}}";
                                                var idAddionalTagList = '{{post_id}}';
                                                addListFields(
                                                                additionalTagList, 
                                                                idAddionalTagList, 
                                                                ", ", 
                                                                "dynamicTagsField",
                                                                'input', 
                                                                "form-control bg-dark formatuj-maly-font",
                                                                'tags', 
                                                                '4',
                                                                "#c2c2c2",
                                                                "#6a6a6a solid 1px",
                                                                true,
                                                                "no-border formatuj-margin form-control bg-dark formatuj-right",
                                                                "list-tag-container",
                                                                "btn btn-outline-danger formatuj-maly-font formatuj-margin",
                                                                "Usuń Tag"
                                                                );
                                            </script>

                                            <!-- Category -->
                                            <div class="mb-3">
                                                <label for="category_{{post_id}}" class="form-label">Kategoria</label>
                                                <input type="text" value="{{post_data['category']}}" class="form-control bg-dark formatuj-maly-font" style="color:#c2c2c2; border:#6a6a6a solid 1px;" id="category_{{post_id}}" name="category_{{post_id}}" required>
                                            </div>
                                            <!-- Ukryte pola formularza -->
                                            <input type="hidden" name="tagsFieldData_{{post_id}}" id="tagsFieldData_{{post_id}}" />
                                            <input type="hidden" name="dynamicFieldData_{{post_id}}" id="dynamicFieldData_{{post_id}}" />
                                            <input type="hidden" name="UserName_{{post_id}}" id="UserName_{{post_id}}" value="{{username}}"/>
                                            
                                            <!-- Przycisk Zapisz artykuł -->
                                            <button type="button" class="btn btn-success btn-sm" style="max-height: 30px; font-size: 12px;" onclick="prepareAndSubmitForm('{{post_id}}', true)">Zapisz artykuł</button>
                                            <!-- <button type="submit" class="btn btn-success btn-sm" style="max-height: 30px; font-size: 12px;" onclick="joinListFields('{{post_id}}', ', ', 'dynamicTagsField'); joinListFields('{{post_id}}', '#splx ', 'dynamicField')">Zapisz artykuł</button> -->
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                       
                        <!-- collapse start -->
                        <div class="sub-panel rogi collapse" id="collapse_id_{{post_id}}">
                            <div class="row">
                                <div class="col-lg-4 col-sm-12">
                                    <img src="{{post_data.zdjecie}}" alt="" class="img-thumbnail object-fit-cover rounded bg-dark mb-2" >
                                </div>
                                <div class="col-lg-7 col-sm-12">
                                    <h5>{{post_data.tytul_ogloszenia}}</h5>
                                    <p>{{post_data.opis}}</p>
                                    <div class="row">
                                        <!-- kateoria -->
                                        <div class="col-xl-5 col-lg-5 col-md-5 col-sm-12">
                                            <div class="border border-1 border-secondary rounded m-1 p-2 formatuj-hover">
                                                <div class="ms-3 formatuj-maly-font">
                                                    <i class="bi bi-folder"></i>
                                                    <span class="text-secondary fw-lighter">{{ post_data.kategoria }}</span>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- rok -->
                                        <div class="col-xl-3 col-lg-3 col-md-3 col-sm-12">
                                            <div class="border border-1 border-secondary rounded m-1 p-2 formatuj-hover">
                                                <div class="ms-3 formatuj-maly-font">
                                                    <i class="bi bi-helmet-safety"></i>
                                                    <span class="text-secondary fw-lighter">{{ post_data.r_start }} - {{ post_data.r_finish }}</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            {{post_data}}
                        </div>
            
                        <!-- collapse end -->
                        {% endfor %}
                        <!-- Paginacja -->
                        <span class="formatuj-maly-logout">{{ pagination.info }}</span>
                        <div class="pagination formatuj-margin-top">
                            <nav aria-label="Page navigation example">                            
                                <ul class="pagination justify-content-center dark-mode">
                                    <li class="page-item">{{ pagination.prev }}</li>
                                    <li class="page-item">{{ pagination.links }}</li>
                                    <li class="page-item">{{ pagination.next }}</li>
                                </ul>
                            </nav>
                        </div>
{% endblock %}


